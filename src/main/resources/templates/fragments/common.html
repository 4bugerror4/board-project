<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:sce="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="_head(title)">
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
	crossorigin="anonymous">

<!-- Custom styles for this template -->
<link th:href="@{/css/starter-template.css}" rel="stylesheet">

<title th:text=${title}>Bug Board</title>
</head>

<body>

	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" th:fragment="_nav(nav)">
		<a class="navbar-brand" href="/">Bug|Board</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarsExampleDefault">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item" th:classappend="${nav} == 'index' ? 'active'"><a class="nav-link" href="#" th:href="@{/}">메인</a></li>
				<li class="nav-item" th:classappend="${nav} == 'write' ? 'active'"><a class="nav-link" href="#" th:href="@{/board/write}">글쓰기</a></li>
			</ul>

			<div class="text-right" sec:authorize="!isAuthenticated()">
				<button class="btn btn-primary">
					<a class="text-white" href="#" th:href=@{/auth/account/login}>로그인</a>
				</button>
				<button class="btn btn-primary">
					<a class="text-white" href="#" th:href=@{/auth/account/register}>회원가입</a>
				</button>
			</div>
			
			<div class="text-right" sec:authorize="isAuthenticated()">
				<button class="btn btn-primary">
					<a class="text-white" href="#" th:href=@{/}><span sec:authentication="name"></span><!-- <span th:text=${principal.user.roleType}></span> --></a>
				</button>
				<button class="btn btn-primary">
					<a class="text-white" href="#" th:href=@{/logout}>로그아웃</a>
				</button>
			</div>
		</div>
	</nav>
	<!-- /. navbar -->

	

</body>

</html>